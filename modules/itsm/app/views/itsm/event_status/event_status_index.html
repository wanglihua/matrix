{%header "事件状态" .%}
<div id="page">
   <div class="breadcrumbs" id="breadcrumbs">
       <ul class="breadcrumb">
           <li>
               <a href='{%url "Home.Index"%}'><i class="ace-icon fa fa-home home-icon"></i></a>
           </li>
           <li class="parent" data-menu="itsm-menu">ITSM</li>
           <li class="active" data-menu="itsm-eventstatus-menu">事件状态</li>
       </ul>
   </div>
   <div class="page-content">
       <div class="row">
           <div class="col-xs-12" style="padding: 0;">
               <div class="gridToolBar clearfix">
                   <button class="btn btn-primary btn-sm" @click="reloadList('#eventStatusList')">
                       <i class="ace-icon fa fa-refresh"></i>
                       刷新
                   </button>
               </div>
               <div>
                   <table id="eventStatusList" class="table table-striped table-bordered table-hover"></table>
               </div>
           </div>
       </div>
   </div>
</div>
<script type="text/javascript">
    var vm = new Vue({
        el: "#page",
        data: {

        },
        mounted: function () {
            initDataTable(
                    '#eventStatusList',
                    {
                        "sAjaxSource": '{%url "ItsmEventStatus.ListData"%}',
                        "aaSorting": [[1, "asc"]],
                        "aoColumns": [
                            {
                                "mDataProp": "id", "bSearchable": false, "orderable": false, "sClass": "center", "width": 50,
                                "title": '<input type="checkbox" class="ace checkall"/><span class="lbl"></span>',
                                "render": function (data, type, row) {
                                    return '<input type="checkbox" class="ace" value="' + data + '"/><span class="lbl"></span>';
                                }
                            },
                            {"mDataProp": "status_name", "title": "名称", "bSearchable": true, "width": 180 },
                            {"mDataProp": "status_desc", "title": "描述", "bSearchable": true },
                            {"mDataProp": "create_time", "title": "创建时间", "bSearchable": false, "width": 120 },
                            {"mDataProp": "update_time", "title": "修改时间", "bSearchable": false, "width": 120 }
                        ]
                   }
            );
        },
        methods: {
            reloadList: function () {
                reloadList('#eventStatusList');
            }
        }
    });
</script>
{%footer%}

